import{u as v,d as f,e as N,r as n,j as e}from"./index-B8QvwscU.js";function S(){const x=v(),{showToast:o}=f(),{id:r}=N(),[l,m]=n.useState(""),[a,b]=n.useState(""),[d,p]=n.useState("monthly"),[c,g]=n.useState("Other"),h=["Streaming","Fitness","Software","Productivity","Gaming","Bills","Education","Transport","Food","Other"];n.useEffect(()=>{if(r){const t=(JSON.parse(localStorage.getItem("subscriptions"))||[]).find(i=>i.id===Number(r));t&&(m(t.name),b(t.price),p(t.frequency),g(t.category||"Other"))}},[r]);const y=s=>{if(s.preventDefault(),!l.trim()){o("Name is required","error");return}if(!a||Number(a)<=0){o("Price must be a positive number","error");return}const t=JSON.parse(localStorage.getItem("subscriptions"))||[];if(r){const i=t.map(u=>u.id===Number(r)?{...u,name:l,price:Number(a),frequency:d,category:c}:u);localStorage.setItem("subscriptions",JSON.stringify(i)),o("Subscription updated","success")}else{const i={id:Date.now(),name:l,price:Number(a),frequency:d,category:c};t.push(i),localStorage.setItem("subscriptions",JSON.stringify(t)),o("Subscription added","success")}x("/dashboard")};return e.jsxs("div",{className:"max-w-md mx-auto mt-10 p-6 bg-white dark:bg-gray-900 rounded-xl shadow-lg border border-gray-200 dark:border-gray-800",children:[e.jsx("h1",{className:"text-xl font-semibold mb-6",children:r?"Edit Subscription":"Add Subscription"}),e.jsxs("form",{onSubmit:y,className:"space-y-5",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block mb-1 text-sm",children:"Name"}),e.jsx("input",{className:"w-full px-3 py-2 rounded-md border dark:bg-gray-800",value:l,onChange:s=>m(s.target.value),placeholder:"Netflix, Gym, Adobe..."})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block mb-1 text-sm",children:"Price (â‚¬)"}),e.jsx("input",{type:"number",step:"0.01",className:"w-full px-3 py-2 rounded-md border dark:bg-gray-800",value:a,onChange:s=>b(s.target.value)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block mb-1 text-sm",children:"Billing Frequency"}),e.jsxs("select",{className:"w-full px-3 py-2 rounded-md border dark:bg-gray-800",value:d,onChange:s=>p(s.target.value),children:[e.jsx("option",{value:"monthly",children:"Monthly"}),e.jsx("option",{value:"yearly",children:"Yearly"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block mb-1 text-sm",children:"Category"}),e.jsx("select",{className:"w-full px-3 py-2 rounded-md border dark:bg-gray-800",value:c,onChange:s=>g(s.target.value),children:h.map(s=>e.jsx("option",{value:s,children:s},s))})]}),e.jsx("button",{type:"submit",className:"w-full py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:r?"Save Changes":"Add Subscription"})]})]})}function w(){return e.jsx("div",{children:e.jsx(S,{})})}export{w as default};
